(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4457],{99279:function(e,t,r){Promise.resolve().then(r.bind(r,69888))},69888:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return ee}});var a=r(37821),s=r(58078),l=r(58504),d=r(74542),c=r(39447),n=r(12758),o=r(33338);function i(e){let{corporations:t}=e,[r,l]=(0,s.useState)("gainers");if(0===t.length)return null;let d=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(e),c=e=>{let t=e.split(" ");return t.length>1?t.map(e=>e[0]).join("").toUpperCase().slice(0,4):e.toUpperCase().slice(0,4)},i=e=>{var t;return null!==(t=e.price_change_4h)&&void 0!==t?t:0},x=t.map(e=>{let t=c(e.name),r=d(e.share_price),a=i(e);return{symbol:t,price:r,changeFormatted:"".concat(a>=0?"+":"").concat(a.toFixed(2),"%"),isPositive:a>=0,corp:e,change:a}}),m=x.filter(e=>e.isPositive).sort((e,t)=>t.change-e.change),g=x.filter(e=>!e.isPositive).sort((e,t)=>e.change-t.change),h="gainers"===r?m:g,u=h.length>0?[...h,...h]:[];return(0,a.jsxs)("div",{className:"ticker-tape-container rounded-xl border shadow-lg overflow-hidden border-white/60 bg-white/80 backdrop-blur dark:border-gray-600/60 dark:bg-gray-800/90",children:[(0,a.jsxs)("div",{className:"flex border-b border-gray-200/60 dark:border-gray-600/60",children:[(0,a.jsxs)("button",{onClick:()=>l("gainers"),className:"flex-1 px-4 py-2 text-sm font-bold uppercase tracking-[0.1em] transition-colors flex items-center justify-center gap-2 ".concat("gainers"===r?"bg-corporate-blue/10 text-corporate-blue dark:bg-corporate-blue/20 dark:text-corporate-blue-light border-b-2 border-corporate-blue":"text-gray-600 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50"),children:[(0,a.jsx)(n.Z,{className:"w-4 h-4"}),"Gainers (",m.length,")"]}),(0,a.jsxs)("button",{onClick:()=>l("losers"),className:"flex-1 px-4 py-2 text-sm font-bold uppercase tracking-[0.1em] transition-colors flex items-center justify-center gap-2 ".concat("losers"===r?"bg-red-500/10 text-red-600 dark:bg-red-500/20 dark:text-red-400 border-b-2 border-red-500":"text-gray-600 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50"),children:[(0,a.jsx)(o.Z,{className:"w-4 h-4"}),"Losers (",g.length,")"]})]}),u.length>0?(0,a.jsx)("div",{className:"relative h-16 overflow-hidden",children:(0,a.jsx)("div",{className:"absolute inset-0 flex items-center ticker-scroll whitespace-nowrap",children:u.map((e,t)=>(0,a.jsxs)("div",{className:"inline-flex items-center gap-4 px-6 font-mono-numeric",children:[(0,a.jsx)("span",{className:"font-semibold text-corporate-blue",children:e.symbol}),(0,a.jsx)("span",{className:"text-gray-700 dark:text-gray-100",children:e.price}),(0,a.jsx)("span",{className:e.isPositive?"text-positive":"text-negative",children:e.changeFormatted}),(0,a.jsx)("span",{className:"text-gray-400 dark:text-gray-500",children:"|"})]},"".concat(e.corp.id,"-").concat(t)))})}):(0,a.jsxs)("div",{className:"h-16 flex items-center justify-center text-gray-500 dark:text-gray-300 text-sm",children:["No ","gainers"===r?"gainers":"losers"," to display"]})]})}var x=r(64790),m=r(81742),g=r(76576);let h=(0,g.Z)("mountain",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]]);var u=r(57198),p=r(17329),y=r(68980),b=r(23877),f=r(91583);let j=(0,g.Z)("flame",[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]]);var k=r(70384),N=r(13346),v=r(46275),w=r(16922),C=r(82359),Z=r(14275),M=r(73891),P=r(90586),F=r(21996),S=r(5189);let E=(0,g.Z)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),T=(0,g.Z)("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),L=(0,g.Z)("arrow-down-right",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);var R=r(2625),_=r(51135);let D=(0,g.Z)("git-branch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);var H=r(15758),I=r(32993),z=r(82206),O=r(94547);r(81584);var A=r(61228);let V={Technology:"Technology Products",Finance:null,Healthcare:null,"Light Industry":"Manufactured Goods",Manufacturing:"Manufactured Goods",Energy:"Electricity",Retail:null,"Real Estate":null,Transportation:"Logistics Capacity",Media:null,Telecommunications:null,Agriculture:"Food Products",Defense:"Defense Equipment",Hospitality:null,Construction:"Construction Capacity",Pharmaceuticals:"Pharmaceutical Products",Mining:null,"Heavy Industry":"Steel",Forestry:null},q={Technology:"Rare Earth",Finance:null,Healthcare:null,"Light Industry":null,Manufacturing:null,Energy:null,Retail:null,"Real Estate":null,Transportation:null,Media:null,Telecommunications:"Copper",Agriculture:"Fertile Land",Defense:null,Hospitality:null,Construction:"Lumber",Pharmaceuticals:"Chemical Compounds",Mining:null,"Heavy Industry":null,Forestry:null},U={Technology:null,Finance:null,Healthcare:null,"Light Industry":null,Manufacturing:null,Energy:["Oil"],Retail:null,"Real Estate":null,Transportation:null,Media:null,Telecommunications:null,Agriculture:["Fertile Land"],Defense:null,Hospitality:null,Construction:null,Pharmaceuticals:["Chemical Compounds"],Mining:["Iron Ore","Coal","Copper","Rare Earth"],"Heavy Industry":null,Forestry:["Lumber"]},B=["Iron Ore","Coal"],G={Technology:null,Finance:["Technology Products"],Healthcare:["Pharmaceutical Products"],"Light Industry":["Steel"],Manufacturing:["Steel"],Energy:null,Retail:["Manufactured Goods"],"Real Estate":["Construction Capacity"],Transportation:["Steel"],Media:["Technology Products"],Telecommunications:["Technology Products"],Agriculture:null,Defense:["Steel"],Hospitality:["Food Products"],Construction:["Steel"],Pharmaceuticals:null,Mining:null,"Heavy Industry":null,Forestry:null},$={relationshipNode:function(e){let{data:t}=e,r=(0,l.useRouter)(),d=(0,s.useMemo)(()=>{switch(t.nodeType){case"resource":return"bg-amber-100 dark:bg-amber-900/50 border-amber-400 dark:border-amber-600";case"product":return"bg-indigo-100 dark:bg-indigo-900/50 border-indigo-400 dark:border-indigo-600";case"sector":return"bg-gray-100 dark:bg-gray-800 border-gray-400 dark:border-gray-600";default:return"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600"}},[t.nodeType]),c=(0,s.useMemo)(()=>{switch(t.nodeType){case"resource":return"text-amber-800 dark:text-amber-200";case"product":return"text-indigo-800 dark:text-indigo-200";case"sector":return"text-gray-800 dark:text-gray-200";default:return"text-gray-900 dark:text-white"}},[t.nodeType]),n=(0,s.useCallback)(()=>{t.href&&r.push(t.href)},[t.href,r]);return(0,a.jsxs)("div",{onClick:n,className:"px-3 py-2 rounded-lg border-2 shadow-md transition-all ".concat(d," ").concat(t.href?"cursor-pointer hover:scale-105 hover:shadow-lg":""),children:[(0,a.jsx)("div",{className:"text-xs font-semibold text-center ".concat(c),children:t.label}),t.unitTypes&&t.unitTypes.length>0&&(0,a.jsx)("div",{className:"flex justify-center gap-1 mt-1",children:t.unitTypes.map(e=>(0,a.jsx)("span",{className:"px-1 py-0.5 text-[8px] font-medium rounded text-white",style:{backgroundColor:A.$b[e]},children:"production"===e?"Prod":"extraction"===e?"Ext":"retail"===e?"Ret":"Svc"},e))})]})}};function Q(){let e=(0,s.useMemo)(()=>(function(){let e=[],t=[],r=0,a=new Set,s={},l={},d={};A.rP.forEach((t,a)=>{let l="resource-".concat(r++);s[t]=l,e.push({id:l,type:"relationshipNode",position:{x:50,y:30+70*a},data:{label:t,nodeType:"resource",href:"/commodity/".concat(encodeURIComponent(t))},sourcePosition:I.Ly.Right,targetPosition:I.Ly.Left})}),A.bQ.forEach((t,a)=>{let s="product-".concat(r++);d[t]=s,e.push({id:s,type:"relationshipNode",position:{x:650,y:30+70*a},data:{label:t,nodeType:"product",href:"/product/".concat(encodeURIComponent(t))},sourcePosition:I.Ly.Right,targetPosition:I.Ly.Left})});let c=A.Sy.filter(e=>{let t=V[e],r=q[e],a=U[e],s=G[e];return t||r||a||s});c.forEach((t,a)=>{let s="sector-".concat(r++);l[t]=s;let d=[];V[t]&&d.push("production"),U[t]&&d.push("extraction"),G[t]&&d.push("retail"),e.push({id:s,type:"relationshipNode",position:{x:350,y:30+70*a},data:{label:t,nodeType:"sector",unitTypes:d},sourcePosition:I.Ly.Right,targetPosition:I.Ly.Left})});let n=function(e,r,s){let l=!(arguments.length>3)||void 0===arguments[3]||arguments[3],d=arguments.length>4?arguments[4]:void 0,c="".concat(e,"-").concat(r);a.has(c)||(a.add(c),t.push({id:"edge-".concat(c),source:e,target:r,animated:l,style:{stroke:s,strokeWidth:2},markerEnd:{type:I.QZ.ArrowClosed,color:s},label:d,labelStyle:{fontSize:8,fill:s},labelBgStyle:{fill:"white",fillOpacity:.8}}))};return c.forEach(e=>{let t=l[e],r=U[e];if(r&&r.forEach(e=>{s[e]&&n(t,s[e],"#f97316")}),"Heavy Industry"===e)B.forEach(e=>{s[e]&&n(s[e],t,A.Ml)});else{let r=q[e];r&&s[r]&&n(s[r],t,A.Ml)}let a=V[e];a&&d[a]&&n(t,d[a],A.Yn);let c=G[e];c&&c.forEach(e=>{d[e]&&n(d[e],t,"#6b7280")})}),{nodes:e,edges:t}})(),[]),[t,,r]=(0,I.Rr)(e.nodes),[l,,d]=(0,I.ll)(e.edges);return(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Production Chain Overview"}),(0,a.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"(Click nodes to navigate)"})]}),(0,a.jsx)("div",{className:"h-[350px] sm:h-[450px] md:h-[550px] lg:h-[600px] w-full rounded-2xl border border-gray-200/50 dark:border-gray-700/50 bg-gradient-to-br from-white via-white to-gray-50/50 dark:from-gray-900 dark:via-gray-900 dark:to-gray-800/50 shadow-lg overflow-hidden",children:(0,a.jsxs)(I.x$,{nodes:t,edges:l,onNodesChange:r,onEdgesChange:d,nodeTypes:$,fitView:!0,fitViewOptions:{padding:.15,minZoom:.4,maxZoom:1.5},minZoom:.2,maxZoom:2,proOptions:{hideAttribution:!0},nodesDraggable:!0,nodesConnectable:!1,elementsSelectable:!0,panOnDrag:!0,zoomOnScroll:!0,preventScrolling:!1,children:[(0,a.jsx)(z.A,{variant:z.T.Dots,gap:20,size:1,color:"rgba(156, 163, 175, 0.3)",className:"dark:!bg-gray-900"}),(0,a.jsx)(O.Z,{showZoom:!0,showFitView:!0,showInteractive:!1,className:"!bg-white/90 dark:!bg-gray-800/90 !border-gray-200 dark:!border-gray-700 !shadow-md"})]})}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-4 mt-4 p-4 rounded-xl bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("div",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 uppercase tracking-wide",children:"Legend:"}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded bg-amber-200 dark:bg-amber-800 border border-amber-400 dark:border-amber-600"}),(0,a.jsx)("span",{className:"text-xs text-gray-600 dark:text-gray-300",children:"Raw Resource"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded bg-gray-200 dark:bg-gray-700 border border-gray-400 dark:border-gray-500"}),(0,a.jsx)("span",{className:"text-xs text-gray-600 dark:text-gray-300",children:"Sector"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded bg-indigo-200 dark:bg-indigo-800 border border-indigo-400 dark:border-indigo-600"}),(0,a.jsx)("span",{className:"text-xs text-gray-600 dark:text-gray-300",children:"Product"})]})]}),(0,a.jsx)("div",{className:"w-px h-4 bg-gray-300 dark:bg-gray-600"}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)("div",{className:"w-6 h-0.5 bg-orange-500"}),(0,a.jsx)("span",{className:"text-xs text-gray-600 dark:text-gray-300",children:"Extraction"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)("div",{className:"w-6 h-0.5 bg-amber-500"}),(0,a.jsx)("span",{className:"text-xs text-gray-600 dark:text-gray-300",children:"Resource Input"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)("div",{className:"w-6 h-0.5 bg-indigo-500"}),(0,a.jsx)("span",{className:"text-xs text-gray-600 dark:text-gray-300",children:"Product Output"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)("div",{className:"w-6 h-0.5 bg-gray-500"}),(0,a.jsx)("span",{className:"text-xs text-gray-600 dark:text-gray-300",children:"Product Demand"})]})]}),(0,a.jsx)("div",{className:"w-px h-4 bg-gray-300 dark:bg-gray-600"}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,a.jsx)("span",{className:"px-1.5 py-0.5 text-[10px] font-medium rounded text-white bg-blue-500",children:"Prod"}),(0,a.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Production"}),(0,a.jsx)("span",{className:"px-1.5 py-0.5 text-[10px] font-medium rounded text-white bg-orange-500",children:"Ext"}),(0,a.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Extraction"}),(0,a.jsx)("span",{className:"px-1.5 py-0.5 text-[10px] font-medium rounded text-white bg-green-500",children:"Ret"}),(0,a.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Retail"})]})]}),(0,a.jsx)("p",{className:"mt-3 text-xs text-gray-500 dark:text-gray-400 text-center",children:"This chart shows the complete production chain: Resources are extracted by sectors, consumed to produce Products, which are then demanded by other sectors."})]})}let Y={Oil:(0,a.jsx)(m.Z,{className:"w-5 h-5"}),"Iron Ore":(0,a.jsx)(h,{className:"w-5 h-5"}),"Rare Earth":(0,a.jsx)(u.Z,{className:"w-5 h-5"}),Copper:(0,a.jsx)(p.Z,{className:"w-5 h-5"}),"Fertile Land":(0,a.jsx)(y.Z,{className:"w-5 h-5"}),Lumber:(0,a.jsx)(b.Z,{className:"w-5 h-5"}),"Chemical Compounds":(0,a.jsx)(f.Z,{className:"w-5 h-5"}),Coal:(0,a.jsx)(j,{className:"w-5 h-5"})},K={Oil:{bg:"bg-slate-900",text:"text-slate-100",border:"border-slate-700"},"Iron Ore":{bg:"bg-red-800",text:"text-red-100",border:"border-red-700"},"Rare Earth":{bg:"bg-violet-600",text:"text-violet-100",border:"border-violet-500"},Copper:{bg:"bg-orange-600",text:"text-orange-100",border:"border-orange-500"},"Fertile Land":{bg:"bg-lime-600",text:"text-lime-100",border:"border-lime-500"},Lumber:{bg:"bg-amber-700",text:"text-amber-100",border:"border-amber-600"},"Chemical Compounds":{bg:"bg-cyan-600",text:"text-cyan-100",border:"border-cyan-500"},Coal:{bg:"bg-gray-800",text:"text-gray-100",border:"border-gray-700"}},W={"Technology Products":(0,a.jsx)(u.Z,{className:"w-5 h-5"}),"Manufactured Goods":(0,a.jsx)(k.Z,{className:"w-5 h-5"}),Electricity:(0,a.jsx)(N.Z,{className:"w-5 h-5"}),"Food Products":(0,a.jsx)(v.Z,{className:"w-5 h-5"}),"Construction Capacity":(0,a.jsx)(w.Z,{className:"w-5 h-5"}),"Pharmaceutical Products":(0,a.jsx)(C.Z,{className:"w-5 h-5"}),"Defense Equipment":(0,a.jsx)(Z.Z,{className:"w-5 h-5"}),"Logistics Capacity":(0,a.jsx)(M.Z,{className:"w-5 h-5"}),Steel:(0,a.jsx)(P.Z,{className:"w-5 h-5"})},J={"Technology Products":{bg:"bg-indigo-600",text:"text-indigo-100",border:"border-indigo-500"},"Manufactured Goods":{bg:"bg-gray-600",text:"text-gray-100",border:"border-gray-500"},Electricity:{bg:"bg-yellow-500",text:"text-yellow-900",border:"border-yellow-400"},"Food Products":{bg:"bg-green-600",text:"text-green-100",border:"border-green-500"},"Construction Capacity":{bg:"bg-stone-600",text:"text-stone-100",border:"border-stone-500"},"Pharmaceutical Products":{bg:"bg-rose-600",text:"text-rose-100",border:"border-rose-500"},"Defense Equipment":{bg:"bg-red-700",text:"text-red-100",border:"border-red-600"},"Logistics Capacity":{bg:"bg-blue-600",text:"text-blue-100",border:"border-blue-500"},Steel:{bg:"bg-zinc-600",text:"text-zinc-100",border:"border-zinc-500"}};function X(){let e=(0,l.useRouter)(),t=(0,l.useSearchParams)(),[r,o]=(0,s.useState)([]),[g,h]=(0,s.useState)({}),[u,p]=(0,s.useState)([]),[y,b]=(0,s.useState)([]),[f,j]=(0,s.useState)({}),[k,N]=(0,s.useState)({}),[v,C]=(0,s.useState)(null),[Z,M]=(0,s.useState)(!0),[I,z]=(0,s.useState)(!1),[O,A]=(0,s.useState)("resources"),[V,q]=(0,s.useState)(""),[U,B]=(0,s.useState)(new Date),[G,$]=(0,s.useState)("stocks");(0,s.useEffect)(()=>{let e=t.get("tab"),r=t.get("subtab");("products"===e||"bonds"===e)&&$(e),("resources"===r||"products"===r||"charts"===r)&&A(r)},[t]);let X=e=>{if(e.length<2)return 0;let t=[...e].sort((e,t)=>new Date(e.recorded_at).getTime()-new Date(t.recorded_at).getTime()),r=[];for(let e=1;e<t.length;e++){let a=t[e-1].share_price,s=t[e].share_price;if(a>0){let e=(s-a)/a*100;r.push(e)}}let a=r.slice(-4);return 0===a.length?0:a.reduce((e,t)=>e+t,0)/a.length};(0,s.useEffect)(()=>{(async()=>{try{let e=await x.y7.getAll();o(e);let t={};await Promise.all(e.map(async e=>{try{let r=await x.w_.getPriceHistory(e.id,void 0,5),a=X(r);t[e.id]=a}catch(r){console.error("Failed to fetch price history for ".concat(e.name,":"),r),t[e.id]=0}})),h(t)}catch(e){console.error("Failed to fetch corporations:",e),q("Failed to load corporations")}finally{M(!1)}})()},[]),(0,s.useEffect)(()=>{"products"===G&&0===u.length&&(async()=>{z(!0);try{let[e,t]=await Promise.all([x.QT.getCommodities(),x.QT.getMarketMetadata().catch(()=>null)]);p(e.commodities),b(e.products),j(e.commodity_supply||{}),N(e.commodity_demand||{}),t&&C(t)}catch(e){console.error("Failed to fetch commodities:",e)}finally{z(!1)}})()},[G,u.length]),(0,s.useEffect)(()=>{let e=setInterval(()=>{B(new Date)},1e3);return()=>clearInterval(e)},[]);let ee=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(e),et=e=>e>=1e9?"$".concat((e/1e9).toFixed(2),"B"):e>=1e6?"$".concat((e/1e6).toFixed(2),"M"):e>=1e3?"$".concat((e/1e3).toFixed(2),"K"):ee(e),er=e=>e>=1e9?"".concat((e/1e9).toFixed(1),"B"):e>=1e6?"".concat((e/1e6).toFixed(1),"M"):e>=1e3?"".concat((e/1e3).toFixed(1),"K"):e.toLocaleString(),ea=(e,t)=>e*t,es=e=>{let t=e.split(" ");return t.length>1?t.map(e=>e[0]).join("").toUpperCase().slice(0,4):e.toUpperCase().slice(0,4)},el=e=>g[e.id]||0,ed=[...r].sort((e,t)=>{let r=ea(e.shares,e.share_price);return ea(t.shares,t.share_price)-r});return Z?(0,a.jsx)(c.Z,{children:(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-lg text-gray-600 dark:text-gray-200",children:"Loading stock market..."})})}):V?(0,a.jsx)(c.Z,{children:(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-xl text-red-600 dark:text-red-400",children:V})})}):(0,a.jsx)(c.Z,{children:(0,a.jsxs)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-6 sm:py-10 space-y-5",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 dark:text-white",children:"Stock Exchange"}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500 dark:text-gray-400",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)(F.Z,{className:"w-3.5 h-3.5"}),(0,a.jsx)("span",{className:"font-mono tabular-nums",children:U.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsxs)("span",{className:"relative flex h-2 w-2",children:[(0,a.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),(0,a.jsx)("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-emerald-500"})]}),(0,a.jsx)("span",{className:"text-emerald-600 dark:text-emerald-400 font-medium text-xs uppercase tracking-wide",children:"Open"})]})]})]}),(0,a.jsxs)(d.default,{href:"/corporation/create",className:"inline-flex items-center justify-center gap-2 bg-corporate-blue text-white px-4 sm:px-5 py-2.5 rounded-lg font-semibold hover:bg-corporate-blue-dark transition-colors text-sm sm:text-base",children:[(0,a.jsx)(S.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Create Corporation"})]})]}),(0,a.jsxs)("div",{className:"flex bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:[(0,a.jsxs)("button",{onClick:()=>$("stocks"),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-all ".concat("stocks"===G?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),children:[(0,a.jsx)(n.Z,{className:"w-4 h-4"}),"Stocks"]}),(0,a.jsxs)("button",{onClick:()=>$("products"),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-all ".concat("products"===G?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),children:[(0,a.jsx)(P.Z,{className:"w-4 h-4"}),"Commodities"]}),(0,a.jsxs)("button",{onClick:()=>$("bonds"),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-all ".concat("bonds"===G?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),children:[(0,a.jsx)(E,{className:"w-4 h-4"}),"Bonds"]})]}),"stocks"===G&&r.length>0&&(0,a.jsx)(i,{corporations:r}),"stocks"===G&&(0===r.length?(0,a.jsxs)("div",{className:"rounded-xl bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 p-8 sm:p-12 text-center",children:[(0,a.jsx)(w.Z,{className:"w-12 h-12 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-lg font-medium text-gray-900 dark:text-white mb-1",children:"No corporations yet"}),(0,a.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-6 text-sm",children:"Be the first to create a corporation!"}),(0,a.jsxs)(d.default,{href:"/corporation/create",className:"inline-flex items-center gap-2 bg-corporate-blue text-white px-5 py-2.5 rounded-lg font-semibold hover:bg-corporate-blue-dark transition-colors text-sm",children:[(0,a.jsx)(S.Z,{className:"w-4 h-4"}),"Create Corporation"]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"hidden lg:block bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("th",{className:"text-left py-3 px-4 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Company"}),(0,a.jsx)("th",{className:"text-right py-3 px-4 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Price"}),(0,a.jsx)("th",{className:"text-right py-3 px-4 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Change"}),(0,a.jsx)("th",{className:"text-right py-3 px-4 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Div Yield"}),(0,a.jsx)("th",{className:"text-right py-3 px-4 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Volume"}),(0,a.jsx)("th",{className:"text-right py-3 px-4 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Market Cap"}),(0,a.jsx)("th",{className:"w-10"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-700/50",children:ed.map(t=>{let r=ea(t.shares,t.share_price),s=el(t),l=s>=0,d=es(t.name);return(0,a.jsxs)("tr",{onClick:()=>e.push("/corporation/".concat(t.id)),className:"group hover:bg-gray-50 dark:hover:bg-gray-700/50 cursor-pointer transition-colors",children:[(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"flex-shrink-0 w-10 h-10 rounded-lg bg-gray-100 dark:bg-gray-700 flex items-center justify-center overflow-hidden",children:t.logo?(0,a.jsx)("img",{src:t.logo,alt:t.name,className:"w-full h-full object-cover",onError:e=>{e.currentTarget.src="/defaultpfp.jpg"}}):(0,a.jsx)(w.Z,{className:"w-5 h-5 text-gray-400 dark:text-gray-500"})}),(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"font-mono text-xs font-bold text-corporate-blue dark:text-corporate-blue-light bg-corporate-blue/10 dark:bg-corporate-blue/20 px-1.5 py-0.5 rounded",children:d}),(0,a.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white truncate group-hover:text-corporate-blue dark:group-hover:text-corporate-blue-light transition-colors",children:t.name})]}),t.type&&(0,a.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:t.type})]})]})}),(0,a.jsx)("td",{className:"py-3 px-4 text-right",children:(0,a.jsx)("span",{className:"font-mono font-semibold text-gray-900 dark:text-white",children:ee(t.share_price)})}),(0,a.jsx)("td",{className:"py-3 px-4 text-right",children:(0,a.jsxs)("span",{className:"inline-flex items-center gap-0.5 font-mono text-sm font-medium ".concat(l?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400"),children:[l?(0,a.jsx)(T,{className:"w-3.5 h-3.5"}):(0,a.jsx)(L,{className:"w-3.5 h-3.5"}),Math.abs(s).toFixed(2),"%"]})}),(0,a.jsx)("td",{className:"py-3 px-4 text-right",children:(0,a.jsx)("span",{className:"font-mono text-sm font-medium text-gray-900 dark:text-white",children:(t.dividend_percentage||0)>0?"".concat((t.dividend_percentage||0).toFixed(2),"%"):"-"})}),(0,a.jsx)("td",{className:"py-3 px-4 text-right",children:(0,a.jsx)("span",{className:"font-mono text-sm text-gray-600 dark:text-gray-300",children:er(t.shares)})}),(0,a.jsx)("td",{className:"py-3 px-4 text-right",children:(0,a.jsx)("span",{className:"font-mono font-medium text-gray-900 dark:text-white",children:et(r)})}),(0,a.jsx)("td",{className:"py-3 px-2",children:(0,a.jsx)(R.Z,{className:"w-4 h-4 text-gray-400 group-hover:text-corporate-blue dark:group-hover:text-corporate-blue-light transition-colors"})})]},t.id)})})]})}),(0,a.jsx)("div",{className:"lg:hidden space-y-3",children:ed.map(e=>{let t=ea(e.shares,e.share_price),r=el(e),s=r>=0,l=es(e.name);return(0,a.jsxs)(d.default,{href:"/corporation/".concat(e.id),className:"block bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4 hover:border-corporate-blue/50 dark:hover:border-corporate-blue/50 transition-colors active:bg-gray-50 dark:active:bg-gray-700/50",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[(0,a.jsx)("div",{className:"flex-shrink-0 w-12 h-12 rounded-lg bg-gray-100 dark:bg-gray-700 flex items-center justify-center overflow-hidden",children:e.logo?(0,a.jsx)("img",{src:e.logo,alt:e.name,className:"w-full h-full object-cover",onError:e=>{e.currentTarget.src="/defaultpfp.jpg"}}):(0,a.jsx)(w.Z,{className:"w-6 h-6 text-gray-400 dark:text-gray-500"})}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-0.5",children:[(0,a.jsx)("span",{className:"font-mono text-xs font-bold text-corporate-blue dark:text-corporate-blue-light",children:l}),e.type&&(0,a.jsxs)("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:["\xb7 ",e.type]})]}),(0,a.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white truncate",children:e.name})]})]}),(0,a.jsxs)("div",{className:"text-right flex-shrink-0",children:[(0,a.jsx)("div",{className:"font-mono font-bold text-gray-900 dark:text-white",children:ee(e.share_price)}),(0,a.jsxs)("div",{className:"inline-flex items-center gap-0.5 font-mono text-sm font-medium ".concat(s?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400"),children:[s?(0,a.jsx)(T,{className:"w-3.5 h-3.5"}):(0,a.jsx)(L,{className:"w-3.5 h-3.5"}),Math.abs(r).toFixed(2),"%"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-gray-100 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"Div Yield"}),(0,a.jsx)("div",{className:"font-mono text-sm font-medium text-gray-700 dark:text-gray-300",children:(e.dividend_percentage||0)>0?"".concat((e.dividend_percentage||0).toFixed(2),"%"):"-"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"Volume"}),(0,a.jsx)("div",{className:"font-mono text-sm font-medium text-gray-700 dark:text-gray-300",children:er(e.shares)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"Market Cap"}),(0,a.jsx)("div",{className:"font-mono text-sm font-medium text-gray-700 dark:text-gray-300",children:et(t)})]})]}),(0,a.jsx)(R.Z,{className:"w-5 h-5 text-gray-400"})]})]},e.id)})})]})),"products"===G&&(I?(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-8 sm:p-12 text-center",children:(0,a.jsx)("div",{className:"text-lg text-gray-600 dark:text-gray-200",children:"Loading commodities..."})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex bg-gray-100 dark:bg-gray-800 rounded-lg p-1 max-w-xl",children:[(0,a.jsxs)("button",{onClick:()=>A("resources"),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-all ".concat("resources"===O?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),children:[(0,a.jsx)(m.Z,{className:"w-4 h-4"}),"Raw Resources"]}),(0,a.jsxs)("button",{onClick:()=>A("products"),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-all ".concat("products"===O?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),children:[(0,a.jsx)(_.Z,{className:"w-4 h-4"}),"Products"]}),(0,a.jsxs)("button",{onClick:()=>A("charts"),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-all ".concat("charts"===O?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),children:[(0,a.jsx)(D,{className:"w-4 h-4"}),"Supply Chain"]})]}),"resources"===O&&(0,a.jsx)("div",{className:"rounded-xl border border-amber-200 dark:border-amber-800 bg-amber-50 dark:bg-amber-900/20 p-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(m.Z,{className:"h-5 w-5 text-amber-600 dark:text-amber-400 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-amber-800 dark:text-amber-200",children:"Raw Resources"}),(0,a.jsx)("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:"Natural resources from state pools. Prices based on supply scarcity. Production units in manufacturing sectors require these to operate at full efficiency."})]})]})}),"products"===O&&(0,a.jsx)("div",{className:"rounded-xl border border-indigo-200 dark:border-indigo-800 bg-indigo-50 dark:bg-indigo-900/20 p-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(_.Z,{className:"h-5 w-5 text-indigo-600 dark:text-indigo-400 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-indigo-800 dark:text-indigo-200",children:"Manufactured Products"}),(0,a.jsx)("p",{className:"text-sm text-indigo-700 dark:text-indigo-300",children:"Products created by production units. Prices based on supply vs demand ratio. Service sectors require these products to operate efficiently."})]})]})}),"resources"===O&&(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:u.map(e=>{let t=K[e.resource]||{bg:"bg-gray-600",text:"text-gray-100",border:"border-gray-500"},r=e.priceChange>=0;return(0,a.jsxs)(d.default,{href:"/commodity/".concat(encodeURIComponent(e.resource)),className:"relative bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden hover:border-corporate-blue/50 dark:hover:border-corporate-blue/50 transition-all group hover:shadow-lg cursor-pointer",children:[(0,a.jsxs)("div",{className:"".concat(t.bg," ").concat(t.text," px-4 py-3 flex items-center justify-between"),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[Y[e.resource]||(0,a.jsx)(P.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"font-semibold",children:e.resource})]}),(0,a.jsxs)("span",{className:"text-xs font-medium px-2 py-0.5 rounded-full ".concat(r?"bg-emerald-500/20 text-emerald-200":"bg-red-500/20 text-red-200"),children:[r?"+":"",e.priceChange.toFixed(1),"%"]})]}),(0,a.jsxs)("div",{className:"p-4 space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-end justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"Current Price"}),(0,a.jsx)("p",{className:"text-2xl font-bold font-mono text-gray-900 dark:text-white",children:ee(e.currentPrice)})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"Base Price"}),(0,a.jsx)("p",{className:"text-sm font-mono text-gray-600 dark:text-gray-400",children:ee(e.basePrice)})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"text-gray-500 dark:text-gray-400 text-xs mb-0.5",children:"Supply"}),(0,a.jsx)("span",{className:"font-mono text-emerald-600 dark:text-emerald-400 font-medium",children:er(f[e.resource]||0)})]}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"text-gray-500 dark:text-gray-400 text-xs mb-0.5",children:"Demand"}),(0,a.jsx)("span",{className:"font-mono text-orange-600 dark:text-orange-400 font-medium",children:er(k[e.resource]||0)})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Scarcity"}),(0,a.jsxs)("span",{className:"font-medium ".concat(e.scarcityFactor>=1.5?"text-red-600 dark:text-red-400":e.scarcityFactor>=1?"text-amber-600 dark:text-amber-400":"text-emerald-600 dark:text-emerald-400"),children:[e.scarcityFactor>=1.5?"High":e.scarcityFactor>=1?"Normal":"Low",(0,a.jsxs)("span",{className:"text-xs ml-1 font-mono",children:["(",e.scarcityFactor.toFixed(2),"x)"]})]})]}),(()=>{var t,r;let s=(null==v?void 0:null===(t=v.resource_suppliers)||void 0===t?void 0:t[e.resource])||[],l=(null==v?void 0:null===(r=v.resource_consumers)||void 0===r?void 0:r[e.resource])||e.demandingSectors||[];return 0===s.length&&0===l.length?null:(0,a.jsxs)("div",{className:"pt-2 border-t border-gray-100 dark:border-gray-700 space-y-2",children:[s.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1.5",children:"Supplied by:"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:s.map(e=>(0,a.jsx)("span",{className:"text-xs px-2 py-0.5 rounded-full bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300",children:e},e))})]}),l.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1.5",children:"Used by:"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:l.map(e=>(0,a.jsx)("span",{className:"text-xs px-2 py-0.5 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300",children:e},e))})]})]})})(),(0,a.jsxs)("div",{className:"pt-2 border-t border-gray-100 dark:border-gray-700",children:[(0,a.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2 flex items-center gap-1",children:[(0,a.jsx)(H.Z,{className:"w-3 h-3"}),"Top Producers"]}),(0,a.jsx)("div",{className:"space-y-1.5",children:e.topProducers.slice(0,3).map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsxs)("span",{className:"text-gray-700 dark:text-gray-300",children:[t+1,". ",e.stateName]}),(0,a.jsxs)("span",{className:"font-mono text-gray-500 dark:text-gray-400",children:[e.percentage.toFixed(1),"%"]})]},e.stateCode))})]}),(0,a.jsxs)("div",{className:"pt-2 flex items-center justify-center text-xs text-corporate-blue dark:text-corporate-blue-light font-medium opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,a.jsx)(R.Z,{className:"w-3 h-3 mr-1"}),"View Details"]})]})]},e.resource)})}),"products"===O&&(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:y.map(e=>{var t,r;let s=J[e.product]||{bg:"bg-gray-600",text:"text-gray-100",border:"border-gray-500"},l=e.referenceValue>0?(e.currentPrice-e.referenceValue)/e.referenceValue*100:0,c=l>=0,n=(null==v?void 0:null===(t=v.product_suppliers)||void 0===t?void 0:t[e.product])||e.producingSectors||[],o=(null==v?void 0:null===(r=v.product_consumers)||void 0===r?void 0:r[e.product])||e.demandingSectors||[];return(0,a.jsxs)(d.default,{href:"/product/".concat(encodeURIComponent(e.product)),className:"relative bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden hover:border-corporate-blue/50 dark:hover:border-corporate-blue/50 transition-all group hover:shadow-lg cursor-pointer",children:[(0,a.jsxs)("div",{className:"".concat(s.bg," ").concat(s.text," px-4 py-3 flex items-center justify-between"),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[W[e.product]||(0,a.jsx)(_.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"font-semibold text-sm",children:e.product})]}),(0,a.jsxs)("span",{className:"text-xs font-medium px-2 py-0.5 rounded-full ".concat(c?"bg-emerald-500/20 text-emerald-200":"bg-red-500/20 text-red-200"),children:[c?"+":"",l.toFixed(1),"%"]})]}),(0,a.jsxs)("div",{className:"p-4 space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-end justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"Current Price"}),(0,a.jsx)("p",{className:"text-2xl font-bold font-mono text-gray-900 dark:text-white",children:ee(e.currentPrice)})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"Reference"}),(0,a.jsx)("p",{className:"text-sm font-mono text-gray-600 dark:text-gray-400",children:ee(e.referenceValue)})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Supply"}),(0,a.jsx)("span",{className:"font-mono text-emerald-600 dark:text-emerald-400 font-medium",children:e.supply})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Demand"}),(0,a.jsx)("span",{className:"font-mono text-orange-600 dark:text-orange-400 font-medium",children:e.demand})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Market"}),(0,a.jsxs)("span",{className:"font-medium ".concat(e.scarcityFactor>=1.5?"text-red-600 dark:text-red-400":e.scarcityFactor>=.8?"text-amber-600 dark:text-amber-400":"text-emerald-600 dark:text-emerald-400"),children:[e.scarcityFactor>=1.5?"Shortage":e.scarcityFactor>=.8?"Balanced":"Surplus",(0,a.jsxs)("span",{className:"text-xs ml-1 font-mono",children:["(",e.scarcityFactor.toFixed(2),"x)"]})]})]}),n.length>0&&(0,a.jsxs)("div",{className:"pt-2 border-t border-gray-100 dark:border-gray-700",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1.5",children:"Produced by:"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:n.map(e=>(0,a.jsx)("span",{className:"text-xs px-2 py-0.5 rounded-full bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300",children:e},e))})]}),o.length>0&&(0,a.jsxs)("div",{className:"pt-2 border-t border-gray-100 dark:border-gray-700",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1.5",children:"Consumed by:"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:o.map(e=>(0,a.jsx)("span",{className:"text-xs px-2 py-0.5 rounded-full bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300",children:e},e))})]}),(0,a.jsxs)("div",{className:"pt-2 flex items-center justify-center text-xs text-corporate-blue dark:text-corporate-blue-light font-medium opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,a.jsx)(R.Z,{className:"w-3 h-3 mr-1"}),"View Details"]})]})]},e.product)})}),"charts"===O&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"rounded-xl border border-purple-200 dark:border-purple-800 bg-purple-50 dark:bg-purple-900/20 p-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(D,{className:"h-5 w-5 text-purple-600 dark:text-purple-400 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-purple-800 dark:text-purple-200",children:"Production Chain Overview"}),(0,a.jsx)("p",{className:"text-sm text-purple-700 dark:text-purple-300",children:"Interactive visualization showing how raw resources flow through sectors to produce products. Drag to pan, scroll to zoom, and click any node to view details."})]})]})}),(0,a.jsx)(Q,{})]})]})),"bonds"===G&&(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-8 sm:p-12 text-center",children:[(0,a.jsx)(E,{className:"w-12 h-12 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-1",children:"Bond Market"}),(0,a.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Coming soon â€” invest in corporate and government bonds."})]})]})})}function ee(){return(0,a.jsx)(s.Suspense,{fallback:(0,a.jsx)(c.Z,{children:(0,a.jsx)("div",{className:"min-h-[calc(100vh-4rem)] flex items-center justify-center",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-corporate-blue dark:border-corporate-blue-light bloomberg:border-bloomberg-green"}),(0,a.jsx)("div",{className:"text-lg text-gray-600 dark:text-gray-300 bloomberg:text-bloomberg-green font-medium",children:"Loading market data..."})]})})}),children:(0,a.jsx)(X,{})})}},51135:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(76576).Z)("box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},81742:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(76576).Z)("droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]])},91583:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(76576).Z)("flask-conical",[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]])},13346:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(76576).Z)("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]])},82359:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(76576).Z)("pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]])},5189:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(76576).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},23877:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(76576).Z)("trees",[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16H5a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"1l6gj6"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]])},73891:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(76576).Z)("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]])},46275:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(76576).Z)("utensils-crossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]])},70384:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(76576).Z)("wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]])}},function(e){e.O(0,[6373,9314,4568,4542,9714,943,4790,9447,1228,7115,2364,1744],function(){return e(e.s=99279)}),_N_E=e.O()}]);