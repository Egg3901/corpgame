"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1228],{61228:function(e,t,o){o.d(t,{$b:function(){return m},Ml:function(){return h},Sy:function(){return r},X2:function(){return P},Yn:function(){return f},bQ:function(){return c},rP:function(){return l}});var n=o(32993);let r=["Technology","Finance","Healthcare","Light Industry","Manufacturing","Energy","Retail","Real Estate","Transportation","Media","Telecommunications","Agriculture","Defense","Hospitality","Construction","Pharmaceuticals","Mining","Heavy Industry","Forestry"],c=["Technology Products","Manufactured Goods","Electricity","Food Products","Construction Capacity","Pharmaceutical Products","Defense Equipment","Logistics Capacity","Steel"],l=["Oil","Iron Ore","Rare Earth","Copper","Fertile Land","Lumber","Chemical Compounds","Coal"],a={Technology:"Technology Products",Finance:null,Healthcare:null,"Light Industry":"Manufactured Goods",Manufacturing:"Manufactured Goods",Energy:"Electricity",Retail:null,"Real Estate":null,Transportation:"Logistics Capacity",Media:null,Telecommunications:null,Agriculture:"Food Products",Defense:"Defense Equipment",Hospitality:null,Construction:"Construction Capacity",Pharmaceuticals:"Pharmaceutical Products",Mining:null,"Heavy Industry":"Steel",Forestry:null},u={Technology:"Rare Earth",Finance:null,Healthcare:null,"Light Industry":null,Manufacturing:null,Energy:null,Retail:null,"Real Estate":null,Transportation:null,Media:null,Telecommunications:"Copper",Agriculture:"Fertile Land",Defense:null,Hospitality:null,Construction:"Lumber",Pharmaceuticals:"Chemical Compounds",Mining:null,"Heavy Industry":null,Forestry:null},i={Technology:null,Finance:null,Healthcare:null,"Light Industry":null,Manufacturing:null,Energy:["Oil"],Retail:null,"Real Estate":null,Transportation:null,Media:null,Telecommunications:null,Agriculture:["Fertile Land"],Defense:null,Hospitality:null,Construction:null,Pharmaceuticals:["Chemical Compounds"],Mining:["Iron Ore","Coal","Copper","Rare Earth"],"Heavy Industry":null,Forestry:["Lumber"]},s=["Iron Ore","Coal"],d={Technology:null,Finance:["Technology Products"],Healthcare:["Pharmaceutical Products"],"Light Industry":["Steel"],Manufacturing:["Steel"],Energy:null,Retail:["Manufactured Goods"],"Real Estate":["Construction Capacity"],Transportation:["Steel"],Media:["Technology Products"],Telecommunications:["Technology Products"],Agriculture:null,Defense:["Steel"],Hospitality:["Food Products"],Construction:["Steel"],Pharmaceuticals:null,Mining:null,"Heavy Industry":null,Forestry:null},p={Technology:null,Finance:["Technology Products"],Healthcare:["Pharmaceutical Products"],"Light Industry":null,Manufacturing:null,Energy:null,Retail:["Manufactured Goods"],"Real Estate":["Construction Capacity"],Transportation:["Logistics Capacity"],Media:["Technology Products"],Telecommunications:["Technology Products"],Agriculture:["Food Products"],Defense:["Defense Equipment"],Hospitality:["Food Products"],Construction:["Construction Capacity"],Pharmaceuticals:["Pharmaceutical Products"],Mining:null,"Heavy Industry":null,Forestry:null},y={Technology:null,Finance:["Technology Products","Electricity"],Healthcare:["Pharmaceutical Products","Electricity"],"Light Industry":null,Manufacturing:null,Energy:["Electricity"],Retail:["Manufactured Goods","Electricity"],"Real Estate":["Construction Capacity","Electricity"],Transportation:["Logistics Capacity","Electricity"],Media:["Technology Products","Electricity"],Telecommunications:["Technology Products","Electricity"],Agriculture:["Food Products","Electricity"],Defense:["Technology Products","Defense Equipment","Electricity"],Hospitality:["Food Products","Electricity"],Construction:["Construction Capacity","Electricity"],Pharmaceuticals:["Pharmaceutical Products","Electricity"],Mining:null,"Heavy Industry":null,Forestry:null},h="#f59e0b",f="#6366f1",g="#6b7280",m={production:"#3b82f6",retail:"#22c55e",service:"#a855f7",extraction:"#f97316"};function E(e){if("Heavy Industry"===e)return[...s];let t=u[e];return t?[t]:[]}function T(e,t){let o=e.sectors[t];if(!o)return[];let n=[];for(let e of o.units.production.inputs)"resource"===e.type&&n.push(e.name);return n}function C(e,t){let o=e.sectors[t];return(null==o?void 0:o.producedProduct)||null}function P(e,t,o){return o?"product"===e?function(e,t){let o=[],r=[],c=function(e,t){let o=[];for(let[n,r]of Object.entries(e.sectors))r.producedProduct===t&&o.push(n);return o}(e,t),l=function(e,t){let o=[];for(let[n,r]of Object.entries(e.sectors)){let e=[];for(let o of["production","retail","service","extraction"]){let n=r.units[o];n.isEnabled&&n.inputs.some(e=>"product"===e.type&&e.name===t)&&e.push(o)}e.length>0&&o.push({sector:n,unitTypes:e})}return o}(e,t),a=new Set;for(let t of c)T(e,t).forEach(e=>a.add(e));let u=0,i={},s=Array.from(a),d=150-(s.length-1)*40;s.forEach((e,t)=>{let n="resource-".concat(u++);i[e]=n,o.push({id:n,type:"chainNode",position:{x:50,y:d+80*t},data:{label:e,nodeType:"resource",unitTypes:[],href:"/commodity/".concat(encodeURIComponent(e)),role:"producer"}})});let p=150-(c.length-1)*40,y={};c.forEach((t,c)=>{let l="producer-".concat(u++);y[t]=l,o.push({id:l,type:"chainNode",position:{x:300,y:p+80*c},data:{label:t,nodeType:"sector",unitTypes:["production"],role:"producer"}}),T(e,t).forEach(e=>{i[e]&&r.push({id:"edge-".concat(i[e],"-").concat(l),source:i[e],target:l,animated:!0,style:{stroke:h},markerEnd:{type:n.QZ.ArrowClosed,color:h}})})});let m="product-".concat(u++);o.push({id:m,type:"chainNode",position:{x:550,y:150},data:{label:t,nodeType:"product",unitTypes:[],role:"central"}}),Object.values(y).forEach(e=>{r.push({id:"edge-".concat(e,"-").concat(m),source:e,target:m,animated:!0,style:{stroke:f},markerEnd:{type:n.QZ.ArrowClosed,color:f}})});let E=150-(l.length-1)*30;return l.slice(0,8).forEach((e,t)=>{let c="consumer-".concat(u++);o.push({id:c,type:"chainNode",position:{x:800,y:E+60*t},data:{label:e.sector,nodeType:"sector",unitTypes:e.unitTypes,role:"consumer"}}),r.push({id:"edge-".concat(m,"-").concat(c),source:m,target:c,animated:!0,style:{stroke:g},markerEnd:{type:n.QZ.ArrowClosed,color:g}})}),{nodes:o,edges:r}}(o,t):function(e,t){let o=[],r=[],c=function(e,t){let o=[];for(let[n,r]of Object.entries(e.sectors))r.units.extraction.outputs.some(e=>"resource"===e.type&&e.name===t)&&o.push(n);return o}(e,t),l=function(e,t){let o=[];for(let[n,r]of Object.entries(e.sectors)){let e=[];for(let o of["production","retail","service","extraction"]){let n=r.units[o];n.isEnabled&&n.inputs.some(e=>"resource"===e.type&&e.name===t)&&e.push(o)}e.length>0&&o.push({sector:n,unitTypes:e})}return o}(e,t),a=new Set;for(let{sector:t}of l){let o=C(e,t);o&&a.add(o)}let u=0,i=150-(c.length-1)*40,s=[];c.forEach((e,t)=>{let n="extractor-".concat(u++);s.push(n),o.push({id:n,type:"chainNode",position:{x:50,y:i+80*t},data:{label:e,nodeType:"sector",unitTypes:["extraction"],role:"producer"}})});let d="resource-".concat(u++);o.push({id:d,type:"chainNode",position:{x:300,y:150},data:{label:t,nodeType:"resource",unitTypes:[],role:"central"}}),s.forEach(e=>{r.push({id:"edge-".concat(e,"-").concat(d),source:e,target:d,animated:!0,style:{stroke:h},markerEnd:{type:n.QZ.ArrowClosed,color:h}})});let p=150-(l.length-1)*40,y={};l.forEach((e,t)=>{let c="consumer-".concat(u++);y[e.sector]=c,o.push({id:c,type:"chainNode",position:{x:550,y:p+80*t},data:{label:e.sector,nodeType:"sector",unitTypes:e.unitTypes,role:"consumer"}}),r.push({id:"edge-".concat(d,"-").concat(c),source:d,target:c,animated:!0,style:{stroke:g},markerEnd:{type:n.QZ.ArrowClosed,color:g}})});let m=Array.from(a),E=150-(m.length-1)*40;return m.forEach((t,c)=>{let a="product-".concat(u++);for(let{sector:u}of(o.push({id:a,type:"chainNode",position:{x:800,y:E+80*c},data:{label:t,nodeType:"product",unitTypes:[],href:"/product/".concat(encodeURIComponent(t)),role:"consumer"}}),l))C(e,u)===t&&y[u]&&r.push({id:"edge-".concat(y[u],"-").concat(a),source:y[u],target:a,animated:!0,style:{stroke:f},markerEnd:{type:n.QZ.ArrowClosed,color:f}})}),{nodes:o,edges:r}}(o,t):"product"===e?function(e){let t=[],o=[],c=r.filter(t=>a[t]===e),l=function(e){let t=[];for(let o of r){let n=[],r=d[o];(null==r?void 0:r.includes(e))&&n.push("production");let c=p[o];(null==c?void 0:c.includes(e))&&n.push("retail");let l=y[o];(null==l?void 0:l.includes(e))&&n.push("service"),n.length>0&&t.push({sector:o,unitTypes:n})}return t}(e),u=new Set;for(let e of c)E(e).forEach(e=>u.add(e));let i=0,s={},m=Array.from(u),T=150-(m.length-1)*40;m.forEach((e,o)=>{let n="resource-".concat(i++);s[e]=n,t.push({id:n,type:"chainNode",position:{x:50,y:T+80*o},data:{label:e,nodeType:"resource",unitTypes:[],href:"/commodity/".concat(encodeURIComponent(e)),role:"producer"}})});let C=150-(c.length-1)*40,P={};c.forEach((e,r)=>{let c="producer-".concat(i++);P[e]=c,t.push({id:c,type:"chainNode",position:{x:300,y:C+80*r},data:{label:e,nodeType:"sector",unitTypes:["production"],role:"producer"}}),E(e).forEach(e=>{s[e]&&o.push({id:"edge-".concat(s[e],"-").concat(c),source:s[e],target:c,animated:!0,style:{stroke:h},markerEnd:{type:n.QZ.ArrowClosed,color:h}})})});let b="product-".concat(i++);t.push({id:b,type:"chainNode",position:{x:550,y:150},data:{label:e,nodeType:"product",unitTypes:[],role:"central"}}),Object.values(P).forEach(e=>{o.push({id:"edge-".concat(e,"-").concat(b),source:e,target:b,animated:!0,style:{stroke:f},markerEnd:{type:n.QZ.ArrowClosed,color:f}})});let k=150-(l.length-1)*30;return l.slice(0,8).forEach((e,r)=>{let c="consumer-".concat(i++);t.push({id:c,type:"chainNode",position:{x:800,y:k+60*r},data:{label:e.sector,nodeType:"sector",unitTypes:e.unitTypes,role:"consumer"}}),o.push({id:"edge-".concat(b,"-").concat(c),source:b,target:c,animated:!0,style:{stroke:g},markerEnd:{type:n.QZ.ArrowClosed,color:g}})}),{nodes:t,edges:o}}(t):function(e){let t=[],o=[],c=r.filter(t=>{let o=i[t];return null==o?void 0:o.includes(e)}),l=function(e){let t=[];for(let o of r){let n=[];"Heavy Industry"===o?s.includes(e)&&n.push("production"):u[o]===e&&n.push("production"),n.length>0&&t.push({sector:o,unitTypes:n})}return t}(e),d=new Set;for(let{sector:e}of l){let t=a[e];t&&d.add(t)}let p=0,y=150-(c.length-1)*40,m=[];c.forEach((e,o)=>{let n="extractor-".concat(p++);m.push(n),t.push({id:n,type:"chainNode",position:{x:50,y:y+80*o},data:{label:e,nodeType:"sector",unitTypes:["extraction"],role:"producer"}})});let E="resource-".concat(p++);t.push({id:E,type:"chainNode",position:{x:300,y:150},data:{label:e,nodeType:"resource",unitTypes:[],role:"central"}}),m.forEach(e=>{o.push({id:"edge-".concat(e,"-").concat(E),source:e,target:E,animated:!0,style:{stroke:h},markerEnd:{type:n.QZ.ArrowClosed,color:h}})});let T=150-(l.length-1)*40,C={};l.forEach((e,r)=>{let c="consumer-".concat(p++);C[e.sector]=c,t.push({id:c,type:"chainNode",position:{x:550,y:T+80*r},data:{label:e.sector,nodeType:"sector",unitTypes:e.unitTypes,role:"consumer"}}),o.push({id:"edge-".concat(E,"-").concat(c),source:E,target:c,animated:!0,style:{stroke:g},markerEnd:{type:n.QZ.ArrowClosed,color:g}})});let P=Array.from(d),b=150-(P.length-1)*40;return P.forEach((e,r)=>{let c="product-".concat(p++);for(let{sector:u}of(t.push({id:c,type:"chainNode",position:{x:800,y:b+80*r},data:{label:e,nodeType:"product",unitTypes:[],href:"/product/".concat(encodeURIComponent(e)),role:"consumer"}}),l))a[u]===e&&C[u]&&o.push({id:"edge-".concat(C[u],"-").concat(c),source:C[u],target:c,animated:!0,style:{stroke:f},markerEnd:{type:n.QZ.ArrowClosed,color:f}})}),{nodes:t,edges:o}}(t)}}}]);