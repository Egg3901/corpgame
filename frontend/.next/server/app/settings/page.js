(()=>{var e={};e.id=938,e.ids=[938],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},74188:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>l.a,__next_app__:()=>c,originalPathname:()=>b,pages:()=>d,routeModule:()=>m,tree:()=>n}),t(19119),t(92902),t(12874);var a=t(27105),o=t(15265),s=t(90157),l=t.n(s),i=t(44665),g={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(g[e]=()=>i[e]);t.d(r,g);let n=["",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,19119)),"C:\\Users\\rainf\\wip\\frontend\\app\\settings\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,92902)),"C:\\Users\\rainf\\wip\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,12874,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\rainf\\wip\\frontend\\app\\settings\\page.tsx"],b="/settings/page",c={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/settings/page",pathname:"/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},338:(e,r,t)=>{Promise.resolve().then(t.bind(t,82184))},82184:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>b});var a=t(19899),o=t(5507),s=t(76153),l=t(31761),i=t(88514);let g=(0,t(61278).Z)("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);var n=t(21842),d=t(82693);function b(){let e=(0,s.useRouter)(),{theme:r,setTheme:t}=(0,d.F)(),[b,c]=(0,o.useState)(null),[m,x]=(0,o.useState)(!0),[u,p]=(0,o.useState)(!1),[y,h]=(0,o.useState)(!1),[f,k]=(0,o.useState)(null),[j,v]=(0,o.useState)(""),[N,w]=(0,o.useState)(!1),[P,_]=(0,o.useState)(!1),[C,q]=(0,o.useState)(!1),S=e=>{e!==r&&t(e)},M=async()=>{if(b){w(!0);try{await n.FZ.updateProfile({bio:j}),c(e=>e?{...e,bio:j}:null)}catch(e){console.error("Bio update failed:",e),v(b.bio||"I'm a new user, say hi!")}finally{w(!1)}}},A=async e=>{let r=e.target.files?.[0];if(!r){console.log("No file selected");return}if(console.log("File selected:",{name:r.name,type:r.type,size:r.size}),!["image/jpeg","image/png","image/webp"].includes(r.type)){k("Please upload a JPG, PNG, or WEBP image.");return}if(r.size>2097152){k("Max file size is 2MB.");return}k(null),h(!0),console.log("Starting avatar upload...");try{let e=await n.FZ.uploadAvatar(r);console.log("Avatar upload result:",e),c(r=>r?{...r,profile_image_url:e.profile_image_url}:r),console.log("User state updated with new profile_image_url")}catch(e){console.error("Avatar upload failed:",e),console.error("Error response:",e?.response?.data),k(e?.response?.data?.error||"Upload failed. Please try again.")}finally{h(!1),e.target.value=""}};return m?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 text-gray-600 dark:text-gray-300",children:"Loading your settings..."}):a.jsx("div",{className:"min-h-screen text-[rgb(var(--foreground-rgb))] py-10 px-4 bloomberg:bg-black bloomberg:text-[#00ff41]",style:{background:"linear-gradient(to bottom, transparent, rgb(var(--background-end-rgb))) rgb(var(--background-start-rgb))"},children:(0,a.jsxs)("div",{className:"max-w-3xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm uppercase tracking-wide text-gray-500 dark:text-gray-400 bloomberg:text-bloomberg-green-dim",children:"Account"}),a.jsx("h1",{className:"text-3xl font-semibold text-gray-900 dark:text-white bloomberg:text-bloomberg-green",children:"Settings"})]}),a.jsx("button",{onClick:()=>e.back(),className:"px-4 py-2 text-sm font-medium rounded-md border text-gray-700 hover:bg-gray-100 dark:border-gray-700 dark:text-gray-200 dark:hover:bg-gray-800 bloomberg:border-bloomberg-green bloomberg:text-bloomberg-green bloomberg:hover:bg-bloomberg-green/10",style:{borderColor:"rgba(var(--foreground-rgb), 0.2)"},children:"Go Back"})]}),(0,a.jsxs)("section",{className:"rounded-xl shadow-sm border",style:{backgroundColor:"rgb(var(--background-start-rgb))",borderColor:"rgba(var(--foreground-rgb), 0.15)"},children:[(0,a.jsxs)("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-gray-700/60",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Account Details"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"This information comes from your profile."})]}),(0,a.jsxs)("div",{className:"px-6 py-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden bg-gray-100 dark:bg-gray-700 flex items-center justify-center",children:a.jsx("img",{src:(0,n.V7)(b?.profile_image_url),alt:"Profile",className:"w-full h-full object-cover",onError:e=>{console.error("Profile image failed to load:",e.currentTarget.src),e.currentTarget.src="/defaultpfp.jpg"},onLoad:()=>console.log("Profile image loaded successfully:",(0,n.V7)(b?.profile_image_url))})}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Profile image"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:"JPG, PNG, or WEBP. Max 2MB."}),a.jsx("input",{type:"file",accept:"image/png,image/jpeg,image/webp",onChange:A,disabled:y,className:"block w-full text-sm text-gray-700 dark:text-gray-200 file:mr-3 file:py-1.5 file:px-3 file:rounded-md file:border file:border-gray-200 file:bg-gray-50 file:text-sm file:font-medium file:text-gray-700 hover:file:bg-gray-100 dark:file:border-gray-700 dark:file:bg-gray-800 dark:file:text-gray-200"}),f&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:f}),y&&a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Uploading..."})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs uppercase text-gray-500 dark:text-gray-400 font-semibold",children:"Username"}),a.jsx("button",{onClick:()=>_(!P),className:"flex items-center gap-2 mt-1 text-lg font-medium text-gray-900 dark:text-gray-100 hover:text-gray-700 dark:hover:text-gray-300 transition-colors group",children:P?(0,a.jsxs)(a.Fragment,{children:[a.jsx("span",{children:b?.username}),a.jsx(l.Z,{className:"w-4 h-4 opacity-60 group-hover:opacity-100"})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"••••••••"}),a.jsx(i.Z,{className:"w-4 h-4 opacity-60 group-hover:opacity-100"})]})})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs uppercase text-gray-500 dark:text-gray-400 font-semibold",children:"Email"}),a.jsx("button",{onClick:()=>q(!C),className:"flex items-center gap-2 mt-1 text-lg font-medium text-gray-900 dark:text-gray-100 hover:text-gray-700 dark:hover:text-gray-300 transition-colors group",children:C?(0,a.jsxs)(a.Fragment,{children:[a.jsx("span",{children:b?.email}),a.jsx(l.Z,{className:"w-4 h-4 opacity-60 group-hover:opacity-100"})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"••••••••••••••••••••••"}),a.jsx(i.Z,{className:"w-4 h-4 opacity-60 group-hover:opacity-100"})]})})]})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs uppercase text-gray-500 dark:text-gray-400 font-semibold",children:"Display Name"}),a.jsx("p",{className:"text-lg font-medium mt-1",children:b?.player_name||"Not set"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Bio"}),a.jsx("textarea",{value:j,onChange:e=>v(e.target.value),placeholder:"I'm a new user, say hi!",maxLength:500,rows:3,className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-700 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-corporate-blue focus:border-transparent resize-none"}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,a.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[j.length,"/500 characters"]}),a.jsx("button",{onClick:M,disabled:N||j===(b?.bio||"I'm a new user, say hi!"),className:"px-3 py-1 text-xs font-medium rounded-md bg-corporate-blue text-white hover:bg-corporate-blue-dark disabled:opacity-50 disabled:cursor-not-allowed",children:N?"Saving...":"Save Bio"})]})]})]})]}),(0,a.jsxs)("section",{className:"rounded-xl shadow-sm border bloomberg:border-bloomberg-green",style:{backgroundColor:"rgb(var(--background-start-rgb))",borderColor:"rgba(var(--foreground-rgb), 0.15)"},children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-gray-700/60 bloomberg:border-bloomberg-green",children:(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Appearance"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 bloomberg:text-bloomberg-green-dim",children:"Choose your visual theme. Each theme provides a unique experience tailored to different preferences."})]})}),(0,a.jsxs)("div",{className:"px-6 py-6 space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-200 bloomberg:text-bloomberg-green-bright",children:"Select Theme"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[a.jsx("button",{onClick:()=>S("light"),className:`group relative px-4 py-6 rounded-lg border-2 text-sm font-medium transition-all ${"light"===r?"border-corporate-blue bg-corporate-blue/5 text-corporate-blue":"border-gray-200 bg-white text-gray-600 hover:border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:border-gray-600 bloomberg:border-bloomberg-green-dim bloomberg:bg-black bloomberg:text-bloomberg-green bloomberg:hover:border-bloomberg-green"}`,children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[a.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${"light"===r?"bg-corporate-blue/10":"bg-gray-100 dark:bg-gray-700 bloomberg:bg-bloomberg-green/10"}`,children:a.jsx(g,{className:"w-6 h-6"})}),a.jsx("span",{className:"font-semibold",children:"Light"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 bloomberg:text-bloomberg-green-dim text-center",children:"Clean, bright"})]})}),a.jsx("button",{onClick:()=>S("midnight"),className:`group relative px-4 py-6 rounded-lg border-2 text-sm font-medium transition-all ${"midnight"===r?"border-corporate-blue bg-corporate-blue/5 text-corporate-blue":"border-gray-200 bg-white text-gray-600 hover:border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:border-gray-600 bloomberg:border-bloomberg-green-dim bloomberg:bg-black bloomberg:text-bloomberg-green bloomberg:hover:border-bloomberg-green"}`,children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[a.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${"midnight"===r?"bg-corporate-blue/10":"bg-gray-100 dark:bg-gray-700 bloomberg:bg-bloomberg-green/10"}`,children:a.jsx(g,{className:"w-6 h-6"})}),a.jsx("span",{className:"font-semibold",children:"Midnight"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 bloomberg:text-bloomberg-green-dim text-center",children:"Dark blue-gray"})]})}),a.jsx("button",{onClick:()=>S("black"),className:`group relative px-4 py-6 rounded-lg border-2 text-sm font-medium transition-all ${"black"===r?"border-corporate-blue bg-corporate-blue/5 text-corporate-blue":"border-gray-200 bg-white text-gray-600 hover:border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:border-gray-600 bloomberg:border-bloomberg-green-dim bloomberg:bg-black bloomberg:text-bloomberg-green bloomberg:hover:border-bloomberg-green"}`,children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[a.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${"black"===r?"bg-corporate-blue/10":"bg-gray-100 dark:bg-gray-700 bloomberg:bg-bloomberg-green/10"}`,children:a.jsx(g,{className:"w-6 h-6"})}),a.jsx("span",{className:"font-semibold",children:"Black"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 bloomberg:text-bloomberg-green-dim text-center",children:"Pure OLED black"})]})}),a.jsx("button",{onClick:()=>S("bloomberg"),className:`group relative px-4 py-6 rounded-lg border-2 text-sm font-medium transition-all ${"bloomberg"===r?"border-bloomberg-green-bright bg-bloomberg-green/5 text-bloomberg-green-bright shadow-[0_0_15px_rgba(0,255,65,0.3)]":"border-gray-200 bg-white text-gray-600 hover:border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:border-gray-600 bloomberg:border-bloomberg-green-dim bloomberg:bg-black bloomberg:text-bloomberg-green bloomberg:hover:border-bloomberg-green"}`,children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[a.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center font-bloomberg ${"bloomberg"===r?"bg-bloomberg-green/10":"bg-gray-100 dark:bg-gray-700 bloomberg:bg-bloomberg-green/10"}`,children:a.jsx(g,{className:"w-6 h-6"})}),a.jsx("span",{className:"font-semibold font-bloomberg",children:"Bloomberg"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 bloomberg:text-bloomberg-green-dim text-center",children:"Retro terminal"})]})})]})]}),a.jsx("div",{className:"mt-6 p-4 rounded-lg bg-gray-50 dark:bg-gray-900 bloomberg:bg-black bloomberg:border bloomberg:border-bloomberg-green-dim",children:(0,a.jsxs)("p",{className:"text-xs text-gray-600 dark:text-gray-400 bloomberg:text-bloomberg-green-dim",children:[(0,a.jsxs)("strong",{className:"font-semibold text-gray-800 dark:text-gray-200 bloomberg:text-bloomberg-green",children:["Current Theme: ",r.charAt(0).toUpperCase()+r.slice(1)]}),a.jsx("br",{}),"Your theme preference is saved automatically and will persist across sessions."]})})]})]})]})})}},31761:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(61278).Z)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},88514:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(61278).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},19119:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});let a=(0,t(2772).createProxy)(String.raw`C:\Users\rainf\wip\frontend\app\settings\page.tsx#default`)}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[287,945,491],()=>t(74188));module.exports=a})();