"use strict";exports.id=772,exports.ids=[772],exports.modules={18859:(e,r,t)=>{t.d(r,{Z:()=>p});var a=t(19899),s=t(5507),i=t(54175),n=t(33928),o=t(98514),l=t(61422),d=t(10673),c=t(64512),x=t(51721),m=t(37657),g=t(47061);let u=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#06b6d4","#84cc16","#f97316","#14b8a6"],h=e=>new Intl.NumberFormat("en-US",{maximumFractionDigits:1}).format(e);function p({title:e,data:r,others:t,total:p,type:b,valueLabel:f="units"}){let[y,j]=(0,s.useState)(null),v=(0,s.useMemo)(()=>{let e=r.map((e,r)=>({name:e.corporation_name,value:e.value,corporation_id:e.corporation_id,corporation_logo:e.corporation_logo,color:u[r%u.length]}));return t>0&&e.push({name:"Others",value:t,color:"#6b7280"}),e},[r,t]),N="producers"===b?x.Z:m.Z,k="producers"===b?"text-corporate-blue":"text-orange-600";return 0===r.length&&0===t?a.jsx("div",{className:"relative rounded-2xl border border-gray-200/50 dark:border-gray-700/50 bg-gradient-to-br from-white via-white to-gray-50/50 dark:from-gray-900 dark:via-gray-900 dark:to-gray-800/50 shadow-xl overflow-hidden backdrop-blur-sm",children:(0,a.jsxs)("div",{className:"relative p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(N,{className:`w-5 h-5 ${k}`}),a.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:e})]}),a.jsx("div",{className:"flex items-center justify-center h-48",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx(N,{className:"w-12 h-12 text-gray-300 dark:text-gray-600 mx-auto mb-2"}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["No ","producers"===b?"producers":"demanders"," yet"]})]})})]})}):a.jsx("div",{className:"relative rounded-2xl border border-gray-200/50 dark:border-gray-700/50 bg-gradient-to-br from-white via-white to-gray-50/50 dark:from-gray-900 dark:via-gray-900 dark:to-gray-800/50 shadow-xl overflow-hidden backdrop-blur-sm",children:(0,a.jsxs)("div",{className:"relative p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(N,{className:`w-5 h-5 ${k}`}),a.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:e})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Total: ",a.jsx("span",{className:"font-mono font-semibold text-gray-900 dark:text-white",children:h(p)})]})]}),a.jsx("div",{className:"h-64",children:a.jsx(n.h,{width:"100%",height:"100%",children:(0,a.jsxs)(o.u,{children:[a.jsx(l.by,{data:v,cx:"50%",cy:"50%",labelLine:!1,label:({cx:e,cy:r,midAngle:t,innerRadius:s,outerRadius:i,percent:n,index:o})=>{if(n<.05)return null;let l=Math.PI/180,d=s+(i-s)*.5;return a.jsx("text",{x:e+d*Math.cos(-t*l),y:r+d*Math.sin(-t*l),fill:"white",textAnchor:"middle",dominantBaseline:"central",className:"text-xs font-semibold",style:{textShadow:"0 1px 2px rgba(0,0,0,0.5)"},children:`${(100*n).toFixed(0)}%`})},outerRadius:90,innerRadius:40,paddingAngle:2,dataKey:"value",onMouseEnter:(e,r)=>j(r),onMouseLeave:()=>j(null),animationBegin:0,animationDuration:800,children:v.map((e,r)=>a.jsx(d.b,{fill:e.color,stroke:y===r?"#fff":"transparent",strokeWidth:y===r?3:0,style:{filter:y===r?"brightness(1.1)":"none",cursor:e.corporation_id?"pointer":"default",transition:"all 0.2s ease"}},`cell-${r}`))}),a.jsx(c.u,{content:a.jsx(({active:e,payload:r})=>{if(e&&r&&r.length){let e=r[0].payload,t=p>0?(e.value/p*100).toFixed(1):"0.0";return(0,a.jsxs)("div",{className:"rounded-lg px-4 py-3 text-xs shadow-2xl border border-gray-700 bg-gray-900 text-white",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),a.jsx("span",{className:"font-semibold",children:e.name})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,a.jsxs)("span",{className:"text-gray-400",children:[f,":"]}),a.jsx("span",{className:"font-mono font-semibold",children:h(e.value)})]}),(0,a.jsxs)("div",{className:"flex justify-between gap-4",children:[a.jsx("span",{className:"text-gray-400",children:"Share:"}),(0,a.jsxs)("span",{className:"font-mono font-semibold",children:[t,"%"]})]})]})]})}return null},{})})]})})}),a.jsx("div",{className:"mt-4 space-y-2 max-h-40 overflow-y-auto",children:v.map((e,r)=>{let t=p>0?(e.value/p*100).toFixed(1):"0.0";return(0,a.jsxs)("div",{className:`flex items-center justify-between p-2 rounded-lg transition-colors ${y===r?"bg-gray-100 dark:bg-gray-800":""}`,onMouseEnter:()=>j(r),onMouseLeave:()=>j(null),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:e.color}}),e.corporation_id?(0,a.jsxs)(i.default,{href:`/corporation/${e.corporation_id}`,className:"flex items-center gap-2 min-w-0 hover:text-corporate-blue dark:hover:text-corporate-blue-light transition-colors",children:[e.corporation_logo?a.jsx("img",{src:e.corporation_logo,alt:e.name,className:"w-5 h-5 rounded object-cover flex-shrink-0",onError:e=>{e.currentTarget.src="/defaultpfp.jpg"}}):a.jsx("div",{className:"w-5 h-5 rounded bg-gray-200 dark:bg-gray-700 flex items-center justify-center flex-shrink-0",children:a.jsx(g.Z,{className:"w-3 h-3 text-gray-400"})}),a.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:e.name})]}):a.jsx("span",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 truncate",children:e.name})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 flex-shrink-0",children:[a.jsx("span",{className:"text-sm font-mono text-gray-600 dark:text-gray-400",children:h(e.value)}),(0,a.jsxs)("span",{className:"text-xs font-semibold text-gray-500 dark:text-gray-500 w-12 text-right",children:[t,"%"]})]})]},r)})})]})})}},913:(e,r,t)=>{t.d(r,{Z:()=>j});var a=t(19899),s=t(5507),i=t(33928),n=t(65830),o=t(94409),l=t(10692),d=t(62352),c=t(64512),x=t(51840),m=t(1086),g=t(89205),u=t(4964),h=t(65295),p=t(32070);let b=[{label:"24H",value:"24h",hours:24},{label:"48H",value:"48h",hours:48},{label:"4D",value:"96h",hours:96},{label:"7D",value:"7d",hours:168},{label:"30D",value:"30d",hours:720}],f=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(e),y=e=>`${e>=0?"+":""}${e.toFixed(2)}%`;function j({currentPrice:e,fetchHistory:r,title:t="Price History",priceLabel:j="Price"}){let[v,N]=(0,s.useState)("96h"),[k,w]=(0,s.useState)(!0),[S,P]=(0,s.useState)(null),[D,F]=(0,s.useState)([]),M=b.find(e=>e.value===v),$=(0,s.useMemo)(()=>{if(0===D.length){let r=Date.now();return[{time:"Start",price:e,timestamp:r-36e5*M.hours},{time:"Now",price:e,timestamp:r}]}return[...D].sort((e,r)=>new Date(e.recorded_at).getTime()-new Date(r.recorded_at).getTime()).map(e=>{let r=new Date(e.recorded_at),t=M.hours;return{time:t<=48?r.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):t<=168?r.toLocaleDateString("en-US",{weekday:"short",hour:"numeric",hour12:!0}):r.toLocaleDateString("en-US",{month:"short",day:"numeric"}),price:"string"==typeof e.price?parseFloat(e.price):e.price,timestamp:r.getTime(),supply:e.supply,demand:e.demand}})},[D,e,M.hours]),L=(0,s.useMemo)(()=>{if($.length<2)return{startPrice:e,endPrice:e,change:0,changePercent:0,high:e,low:e,isPositive:!0};let r=$.map(e=>e.price),t=r[0],a=r[r.length-1],s=a-t;return{startPrice:t,endPrice:a,change:s,changePercent:(a-t)/t*100,high:Math.max(...r),low:Math.min(...r),isPositive:s>=0}},[$,e]),C=(0,s.useMemo)(()=>{if(0===$.length)return[.9*e,1.1*e];let r=$.map(e=>e.price),t=Math.min(...r),a=Math.max(...r),s=(a-t)*.1||.05*a;return[Math.max(0,t-s),a+s]},[$,e]),Z=`priceGradient-${Math.random().toString(36).substr(2,9)}`,R=L.isPositive?"#10b981":"#ef4444",U=L.isPositive?"#10b981":"#ef4444",T=L.isPositive?"rgba(16, 185, 129, 0.05)":"rgba(239, 68, 68, 0.05)";return(0,a.jsxs)("div",{className:"relative rounded-2xl border border-gray-200/50 dark:border-gray-700/50 bg-gradient-to-br from-white via-white to-gray-50/50 dark:from-gray-900 dark:via-gray-900 dark:to-gray-800/50 shadow-2xl overflow-hidden backdrop-blur-sm",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-corporate-blue/5 via-transparent to-corporate-blue-light/5 dark:from-corporate-blue/10 dark:via-transparent dark:to-corporate-blue-dark/10 pointer-events-none"}),a.jsx("div",{className:"absolute inset-0 ring-1 ring-inset ring-white/20 dark:ring-gray-700/30 pointer-events-none"}),(0,a.jsxs)("div",{className:"relative p-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${L.isPositive?"bg-emerald-100 dark:bg-emerald-900/30":"bg-red-100 dark:bg-red-900/30"}`,children:L.isPositive?a.jsx(g.Z,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}):a.jsx(u.Z,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:t}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-0.5",children:[a.jsx("span",{className:"text-2xl font-bold font-mono text-gray-900 dark:text-white",children:f(e)}),a.jsx("span",{className:`text-sm font-semibold ${L.isPositive?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400"}`,children:y(L.changePercent)})]})]})]}),a.jsx("div",{className:"flex items-center gap-0.5 sm:gap-1 p-1 bg-gray-100 dark:bg-gray-800 rounded-lg overflow-x-auto",children:b.map(e=>a.jsx("button",{onClick:()=>N(e.value),className:`px-2 sm:px-3 py-1.5 text-[10px] sm:text-xs font-semibold rounded-md transition-all duration-200 flex-shrink-0 ${v===e.value?"bg-white dark:bg-gray-700 text-corporate-blue dark:text-corporate-blue-light shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:e.label},e.value))})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-3 mb-4 sm:mb-6",children:[(0,a.jsxs)("div",{className:"text-center p-2 rounded-lg bg-gray-50 dark:bg-gray-800/50",children:[a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"Open"}),a.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white font-mono",children:f(L.startPrice)})]}),(0,a.jsxs)("div",{className:"text-center p-2 rounded-lg bg-gray-50 dark:bg-gray-800/50",children:[a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"High"}),a.jsx("p",{className:"text-sm font-bold text-emerald-600 dark:text-emerald-400 font-mono",children:f(L.high)})]}),(0,a.jsxs)("div",{className:"text-center p-2 rounded-lg bg-gray-50 dark:bg-gray-800/50",children:[a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"Low"}),a.jsx("p",{className:"text-sm font-bold text-red-600 dark:text-red-400 font-mono",children:f(L.low)})]}),(0,a.jsxs)("div",{className:"text-center p-2 rounded-lg bg-gray-50 dark:bg-gray-800/50",children:[a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"Change"}),(0,a.jsxs)("p",{className:`text-sm font-bold font-mono ${L.isPositive?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400"}`,children:[L.change>=0?"+":"",f(L.change)]})]})]}),a.jsx("div",{className:"h-64 sm:h-80",children:k?a.jsx("div",{className:"flex items-center justify-center h-full",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 text-gray-500 dark:text-gray-400",children:[a.jsx(h.Z,{className:"w-5 h-5 animate-pulse"}),a.jsx("span",{children:"Loading chart data..."})]})}):S?a.jsx("div",{className:"flex items-center justify-center h-full",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("p",{className:"text-red-500 dark:text-red-400",children:S}),a.jsx("button",{onClick:()=>N(v),className:"mt-2 text-sm text-corporate-blue hover:underline",children:"Retry"})]})}):a.jsx(i.h,{width:"100%",height:"100%",children:(0,a.jsxs)(n.T,{data:$,margin:{top:10,right:10,left:0,bottom:0},children:[a.jsx("defs",{children:(0,a.jsxs)("linearGradient",{id:Z,x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:U,stopOpacity:.3}),a.jsx("stop",{offset:"100%",stopColor:T,stopOpacity:0})]})}),a.jsx(o.q,{strokeDasharray:"3 3",stroke:"rgba(156, 163, 175, 0.2)",vertical:!1}),a.jsx(l.K,{dataKey:"time",axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:"#9ca3af"},interval:"preserveStartEnd",minTickGap:30}),a.jsx(d.B,{domain:C,axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:"#9ca3af"},tickFormatter:e=>`$${e.toFixed(2)}`,width:60}),a.jsx(c.u,{content:a.jsx(({active:e,payload:r,label:t})=>{if(e&&r&&r.length){let e=r[0].payload;return(0,a.jsxs)("div",{className:"rounded-lg px-4 py-3 text-xs shadow-2xl border border-gray-700 bg-gray-900 text-white max-w-[560px]",children:[a.jsx("p",{className:"text-[10px] text-gray-400 mb-1",children:e.time}),a.jsx("p",{className:"text-lg font-bold font-mono",children:f(e.price)}),(void 0!==e.supply||void 0!==e.demand)&&(0,a.jsxs)("div",{className:"mt-2 grid grid-cols-2 gap-2",children:[void 0!==e.supply&&(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("p",{className:"text-[10px] text-gray-400",children:"Supply"}),a.jsx("p",{className:"font-mono",children:Math.round(e.supply).toLocaleString()})]}),void 0!==e.demand&&(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("p",{className:"text-[10px] text-gray-400",children:"Demand"}),a.jsx("p",{className:"font-mono",children:Math.round(e.demand).toLocaleString()})]})]})]})}return null},{})}),a.jsx(x.db,{y:L.startPrice,stroke:"rgba(156, 163, 175, 0.5)",strokeDasharray:"5 5"}),a.jsx(m.uN,{type:"monotone",dataKey:"price",stroke:R,strokeWidth:2,fill:`url(#${Z})`,animationDuration:750})]})})}),(0,a.jsxs)("div",{className:"mt-4 flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx(p.Z,{className:"w-3.5 h-3.5"}),(0,a.jsxs)("span",{children:["Last ",M.label.toLowerCase()]})]}),a.jsx("div",{children:$.length>0&&D.length>0&&(0,a.jsxs)("span",{children:[D.length," data points"]})})]})]})]})}},57040:(e,r,t)=>{t.d(r,{Z:()=>g});var a=t(19899),s=t(5507),i=t(68262),n=t(86943),o=t(66246);t(4165);var l=t(14445),d=t(80943),c=t(76153);let x={production:"Prod",retail:"Retail",service:"Svc",extraction:"Ext"},m={chainNode:(0,s.memo)(function({data:e}){let r=(0,c.useRouter)(),t="central"===e.role;return(0,a.jsxs)("div",{className:`
        px-3 py-2 rounded-lg border-2 shadow-md
        ${(()=>{switch(e.nodeType){case"resource":return"bg-amber-100 dark:bg-amber-900/50 border-amber-300 dark:border-amber-700";case"product":return"bg-indigo-100 dark:bg-indigo-900/50 border-indigo-300 dark:border-indigo-700";case"sector":return"bg-gray-100 dark:bg-gray-800/80 border-gray-300 dark:border-gray-600";default:return"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600"}})()}
        ${e.href?"cursor-pointer hover:shadow-lg hover:scale-105 transition-all":""}
        ${t?"ring-2 ring-offset-2 ring-blue-500 dark:ring-offset-gray-900":""}
        min-w-[100px] max-w-[160px]
      `,onClick:()=>{e.href&&r.push(e.href)},children:[a.jsx(i.HH,{type:"target",position:i.Ly.Left,className:"!bg-gray-400 dark:!bg-gray-500 !w-2 !h-2"}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[a.jsx("span",{className:`text-xs font-semibold text-center leading-tight ${(()=>{switch(e.nodeType){case"resource":return"text-amber-800 dark:text-amber-200";case"product":return"text-indigo-800 dark:text-indigo-200";case"sector":return"text-gray-800 dark:text-gray-200";default:return"text-gray-900 dark:text-gray-100"}})()}`,children:e.label}),e.unitTypes.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1 justify-center mt-1",children:e.unitTypes.map(e=>a.jsx("span",{className:"px-1.5 py-0.5 text-[10px] font-medium rounded text-white",style:{backgroundColor:l.$b[e]},children:x[e]},e))}),t&&a.jsx("span",{className:"text-[9px] text-gray-500 dark:text-gray-400 uppercase tracking-wide mt-0.5",children:"product"===e.nodeType?"Product":"Resource"})]}),a.jsx(i.HH,{type:"source",position:i.Ly.Right,className:"!bg-gray-400 dark:!bg-gray-500 !w-2 !h-2"})]})})};function g({type:e,name:r}){let{config:t,loading:c}=(0,d.ZV)(),x=(0,s.useMemo)(()=>(0,l.X2)(e,r,t),[e,r,t]),[g,u,h]=(0,i.Rr)(x.nodes),[p,b,f]=(0,i.ll)(x.edges),y=x.nodes.length>0;return c?a.jsx("div",{className:"h-[250px] w-full rounded-2xl border border-gray-200/50 dark:border-gray-700/50 bg-gradient-to-br from-white via-white to-gray-50/50 dark:from-gray-900 dark:via-gray-900 dark:to-gray-800/50 shadow-lg flex items-center justify-center",children:a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Loading production chain..."})}):y?(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Production Chain"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"(Click nodes to navigate)"})]}),a.jsx("div",{className:"h-[280px] w-full rounded-2xl border border-gray-200/50 dark:border-gray-700/50 bg-gradient-to-br from-white via-white to-gray-50/50 dark:from-gray-900 dark:via-gray-900 dark:to-gray-800/50 shadow-lg overflow-hidden",children:(0,a.jsxs)(i.x$,{nodes:g,edges:p,onNodesChange:h,onEdgesChange:f,nodeTypes:m,fitView:!0,fitViewOptions:{padding:.2,minZoom:.5,maxZoom:1.5},minZoom:.3,maxZoom:2,proOptions:{hideAttribution:!0},nodesDraggable:!1,nodesConnectable:!1,elementsSelectable:!1,panOnDrag:!0,zoomOnScroll:!0,preventScrolling:!1,children:[a.jsx(n.A,{variant:n.T.Dots,gap:16,size:1,color:"rgba(156, 163, 175, 0.3)",className:"dark:!bg-gray-900"}),a.jsx(o.Z,{showZoom:!0,showFitView:!0,showInteractive:!1,className:"!bg-white/90 dark:!bg-gray-800/90 !border-gray-200 dark:!border-gray-700 !shadow-md"})]})}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-4 mt-3 text-xs text-gray-600 dark:text-gray-400",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:"w-3 h-3 rounded bg-amber-200 dark:bg-amber-800 border border-amber-400 dark:border-amber-600"}),a.jsx("span",{children:"Resource"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:"w-3 h-3 rounded bg-indigo-200 dark:bg-indigo-800 border border-indigo-400 dark:border-indigo-600"}),a.jsx("span",{children:"Product"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:"w-3 h-3 rounded bg-gray-200 dark:bg-gray-700 border border-gray-400 dark:border-gray-500"}),a.jsx("span",{children:"Sector"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 ml-2 border-l border-gray-300 dark:border-gray-600 pl-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"px-1.5 py-0.5 text-[10px] font-medium rounded text-white bg-blue-500",children:"Prod"}),a.jsx("span",{children:"Production"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"px-1.5 py-0.5 text-[10px] font-medium rounded text-white bg-orange-500",children:"Ext"}),a.jsx("span",{children:"Extraction"})]}),a.jsx("div",{className:"flex items-center gap-1",children:a.jsx("span",{className:"px-1.5 py-0.5 text-[10px] font-medium rounded text-white bg-green-500",children:"Retail"})}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"px-1.5 py-0.5 text-[10px] font-medium rounded text-white bg-purple-500",children:"Svc"}),a.jsx("span",{children:"Service"})]})]})]})]}):a.jsx("div",{className:"h-[250px] w-full rounded-2xl border border-gray-200/50 dark:border-gray-700/50 bg-gradient-to-br from-white via-white to-gray-50/50 dark:from-gray-900 dark:via-gray-900 dark:to-gray-800/50 shadow-lg flex items-center justify-center",children:a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No production chain data available"})})}},80943:(e,r,t)=>{t.d(r,{ZV:()=>o});var a=t(5507),s=t(21842);let i=null,n=null;function o(){let[e,r]=(0,a.useState)(i),[t,o]=(0,a.useState)(!i),[l,d]=(0,a.useState)(null),c=(0,a.useCallback)(async(e=!1)=>{if(!e&&i){r(i),o(!1);return}if(n){try{let e=await n;r(e),o(!1)}catch(e){d(e.message||"Failed to fetch sector configuration"),o(!1)}return}o(!0),d(null),n=s.cW.getConfig();try{let e=await n;i=e,e.version,r(e)}catch(e){console.error("Failed to fetch sector config:",e),d(e.message||"Failed to fetch sector configuration")}finally{o(!1),n=null}},[]),x=(0,a.useCallback)(async()=>{i=null,await c(!0)},[c]),m=(0,a.useMemo)(()=>({getSectorProduct:r=>e&&e.sectors[r]?.producedProduct||null,getSectorResource:r=>e&&e.sectors[r]?.primaryResource||null,getProductReferenceValue:r=>e?e.products[r]?.referenceValue??1e3:1e3,getResourceBasePrice:r=>e?e.resources[r]?.basePrice??100:100,getSectorsProducingProduct:r=>{if(!e)return[];let t=[];for(let[a,s]of Object.entries(e.sectors))s.producedProduct===r&&t.push(a);return t},getSectorsDemandingProduct:r=>{if(!e)return[];let t=[];for(let[a,s]of Object.entries(e.sectors)){let e=[];for(let t of["production","retail","service","extraction"]){let a=s.units[t];a.isEnabled&&a.inputs.some(e=>"product"===e.type&&e.name===r)&&e.push(t)}e.length>0&&t.push({sector:a,unitTypes:e})}return t},getSectorsExtractingResource:r=>{if(!e)return[];let t=[];for(let[a,s]of Object.entries(e.sectors))s.units.extraction.outputs.some(e=>"resource"===e.type&&e.name===r)&&t.push(a);return t},getSectorsDemandingResource:r=>{if(!e)return[];let t=[];for(let[a,s]of Object.entries(e.sectors)){let e=[];for(let t of["production","retail","service","extraction"]){let a=s.units[t];a.isEnabled&&a.inputs.some(e=>"resource"===e.type&&e.name===r)&&e.push(t)}e.length>0&&t.push({sector:a,unitTypes:e})}return t},getUnitInputs:(r,t)=>e&&e.sectors[r]?.units[t]?.inputs||[],getUnitOutputs:(r,t)=>e&&e.sectors[r]?.units[t]?.outputs||[]}),[e]);return{config:e,loading:t,error:l,refetch:x,...m}}},81826:(e,r,t)=>{function a(e,r=0){if("number"==typeof e&&Number.isFinite(e))return e;if("string"==typeof e){let t=parseFloat(e);return Number.isFinite(t)?t:r}return r}function s(e,r,t){let s=Math.round(100*a(e,0))/100,i=t||function(e){let r=(e||"").toLowerCase();return r.includes("us")||r.startsWith("en-us")?"USD":r.includes("gb")||r.startsWith("en-gb")?"GBP":r.includes("de")||r.startsWith("de")||r.includes("fr")||r.startsWith("fr")?"EUR":r.includes("jp")||r.startsWith("ja")?"JPY":r.includes("cn")||r.startsWith("zh-cn")?"CNY":"USD"}(r);try{return new Intl.NumberFormat(r||"en-US",{style:"currency",currency:i,minimumFractionDigits:2,maximumFractionDigits:2}).format(s)}catch{return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(s)}}function i(e,r){let t=a(e,0);try{return new Intl.NumberFormat(r||"en-US").format(t)}catch{return new Intl.NumberFormat("en-US").format(t)}}function n(e,r,t){let s=Math.max(0,a(e,0))/Math.max(1e-4,a(r,1e-4)),i=Math.max(0,Math.min(1,a(t,.5)));return s>1.1?"low":s<.8||i>=.7?"high":"medium"}t.d(r,{Fs:()=>n,K$:()=>i,t$:()=>s})}};