# FID-20260103-005: Unify Product Definitions & Fix Sector Unit Toggles

**Status:** COMPLETED | **Priority:** HIGH | **Complexity:** 3
**Created:** 2026-01-03

---

## Summary

Resolve dual-source-of-truth issue where admin panel shows 17 products from database while commodities page shows 9 products from constants. Additionally fix sector unit toggles that don't appear for all unit types because service units were never seeded.

---

## Problem Analysis

### Issue 1: Product Discrepancy
| Source | Count | Location |
|--------|-------|----------|
| Admin Panel | 17 | `scripts/seed-sectors-data.js` -> `product_configs` collection |
| Commodities Page | 9 | `lib/constants/sectors.ts` -> `PRODUCTS` array |

**Decision:** Commodities page (`lib/constants/sectors.ts`) is source of truth.

### Issue 2: Missing Unit Type Toggles
- Seed script only creates: production (conditional), extraction (conditional), retail (all)
- **Service units never created** - users cannot see or toggle them
- UI code: `if (!config) return null;` hides non-existent unit types

---

## Acceptance Criteria

1. Admin panel shows exactly 9 products matching commodities page
2. Product names match exactly between admin panel and commodities page
3. All 18 sectors show all 4 unit type toggle cards (production, retail, service, extraction)
4. Toggles can be switched on/off for any unit type on any sector
5. Default enabled states are sensible per sector type
6. TypeScript: 0 errors

---

## Implementation Approach

### Files to Modify
| File | Changes |
|------|---------|
| `scripts/seed-sectors-data.js` | Update PRODUCT_CONFIGS, SECTOR_CONFIGS, unit seeding logic |

### Task Breakdown

**Task 1:** Update `PRODUCT_CONFIGS` (9 products matching constants)
**Task 2:** Update `SECTOR_CONFIGS` produced_product values
**Task 3:** Seed all 4 unit types for all 18 sectors with proper defaults
**Task 4:** TypeScript verification

---

## Dependencies

- `lib/constants/sectors.ts` - Source of truth for PRODUCTS array
- `components/admin/SectorConfigPanel.tsx` - Consumes unit configs
- `lib/models/SectorConfig.ts` - Database model definitions
