# FID-20260103-002: Dynamic Tooltip Cost/Revenue Display

## Status: COMPLETED

## Problem
Financial tooltips on sector cards were not clearly showing how input costs and output revenue were calculated from actual market prices. Users couldn't see the breakdown of quantity, unit price, and total for each input/output.

## Solution
Enhanced the `FinancialTooltip` component and `SectorCard` to display dynamic input costs and output revenues with:
- Quantity per hour
- Unit price (from live market data)
- Total cost/revenue (quantity × price)

## Changes Made

### 1. FinancialTooltip Component (`components/FinancialTooltip.tsx`)

**New Types:**
```typescript
type CostItem = {
  name: string;
  costHr: number;
  quantity?: number;    // NEW: quantity consumed per hour
  unitPrice?: number;   // NEW: price per unit
};

type OutputItem = {
  name: string;
  revenueHr: number;
  quantity?: number;    // NEW: quantity produced per hour
  unitPrice?: number;   // NEW: price per unit
};
```

**New Props:**
- `outputItems?: OutputItem[]` - Array of output items with quantity and price

**Display Enhancements:**
- Green "Output Revenue" section showing: item name, qty/hr × price, total revenue
- Red "Input Costs" section showing: item name, qty/hr × price, total cost
- Color-coded totals for quick visual parsing

### 2. SectorCard Component (`components/SectorCard.tsx`)

**Updated `computeInputCosts()` function:**
- Now returns `{ name, quantity, unitPrice, costHr }` instead of just `{ name, costHr }`

**New `computeOutputRevenue()` function:**
```typescript
const computeOutputRevenue = (outputs) => {
  // Returns { name, quantity, unitPrice, revenueHr } for each output
};
```

**Updated Tooltip Calls:**
- Production: Shows output products with quantity × market price
- Extraction: Shows extracted resources with quantity × market price
- Retail/Service: Shows input costs with quantity × price
- All include Labor costs as a line item

## Example Display

**Extraction Tooltip:**
```
Output Revenue
  Oil                    2/hr × $150    $300.00
  Total Revenue                         $300.00

Input Costs
  Electricity            0.5/hr × $200  $100.00
  Labor                  1 × $50        $50.00
  Total Cost                            $150.00
```

## Benefits
1. Users can understand exactly how costs/revenue are calculated
2. Market price changes are immediately visible in tooltips
3. Clean, consistent display across all unit types
4. Backwards compatible - old `breakdown` prop still works

## TypeScript Verification
0 errors

## Created
2026-01-03
